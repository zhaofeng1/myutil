package com.zf.util.fastjson;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import org.apache.commons.io.FileUtils;
import org.junit.Test;

import java.io.File;
import java.io.IOException;
import java.util.List;
import java.util.Map;

public class FastJsonTest {

	@Test
	public void test() {
		String str = "{\"flag\":false,\"name\":\"abc\"}";
		//		My m = JSON.parseObject(str, My.class);

		//		People p = new People();
		//		p.setName("abc");
		//		p.setFlag(1);
		//		String str = JSON.toJSONString(p);
		//		System.out.println(str);
		People p1 = JSON.parseObject(str, People.class);
		System.out.println(JSON.toJSONString(p1));
	}

	@Test
	public void test1() {
		String str = "[{\"flag\":1,\"name\":\"abc\"},{\"flag\":2,\"name\":\"abc\"}]";

		List<People> list = JSON.parseArray(str, People.class);

		System.out.println(JSON.toJSONString(list));
	}

	@Test
	public void test2() {
		String str = "{\"0\":7,\"1\":8}";

		Map<String, Integer> map = JSON.parseObject(str, Map.class);

		System.out.println(JSON.toJSONString(map));
	}

	@Test
	public void test3() {
		String path = "D:/offerapijson/test.txt";
		try {
			List<String> list = FileUtils.readLines(new File(path));
			String str = list.get(0);
			System.out.println(str);
			str = str.replace("", "");
			JSONObject data = JSON.parseObject(str);

			System.out.println(data.toJSONString());
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

	@Test
	public void test4() {
		String str = "jQuery19106842352907182798_1554113556649({    \"seatbid\": {        \"bid\": [{            \"cid\": \"4285477\",            \"crid\": \"6583113\",            \"creativeId\": 33339,            \"lastUpdateTime\": 1554113056,            \"credits\": 1,            \"ext\": {                \"type\": \"CPVI\",                \"class\": 0,                \"xButtonBehavior\": \"buttonHidden\",                \"templateid\": \"0\",                \"notificationsData\": {                    \"duringData\": \"\",                    \"afterData\": \"\",                    \"nextData\": \"下一步\"                },                \"counterData\": {                    \"completionCountdown\": 14,                    \"timeUntilTimer\": 0,                    \"showTimer\": true,                    \"percentage\": false                },                \"videoData\": {                    \"autoPlay\": true,                    \"videoType\": \"ssa-internal-video-player\",                    \"videoTime\": 14,                    \"videoSource\": {                        \"videoformat_mp4\": \"https://v.ssacdn.com/demand-creatives/assets/videos/sijlqprccqlt0k2amhh8.mp4\",                        \"html\": \"\"                    },                    \"videoPoster\": \"\"                },                \"enableLogo\": true,                \"removeNext\": true,                \"appData\": {                    \"appIcon\": \"https://supersonicads-a.akamaihd.net/banners/c_6583113_82447_5.png\",                    \"title\": \"Golf Clash\",                    \"description\": \"Install and open\",                    \"appImages\": [\"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/demand-creatives/assets/images/214503-1553874651182-lisrx.jpg\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/demand-creatives/assets/images/214503-1553874651182-7mnkc.jpg\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/demand-creatives/assets/images/214503-1553874651183-cferf.jpg\"],                    \"adAssets\": {                        \"both\": [\"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/demand-creatives/assets/images/214503-1553874651182-7mnkc.jpg\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/demand-creatives/assets/images/214503-1553874651182-lisrx.jpg\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/demand-creatives/assets/images/214503-1553874651183-cferf.jpg\"]                    },                    \"appId\": \"com.playdemic.golf.android\"                },                \"clickTags\": {                    \"index\": 1,                    \"clickURL\": \"https://play.google.com/store/apps/details?id=com.playdemic.golf.android&referrer=adjust_external_click_id%3Dironsource_b0a7b8d1-5466-11e9-b591-753575427898_opp_101\",                    \"title\": \"DOWNLOAD NOW\",                    \"pixelURL\": \"https://click-haproxy.supersonicads.com/endcardclick/internal-media/rewarded-video/b0a7b8d1-5466-11e9-b591-753575427898_858473068/opp_101/824c0641c?platformType=4&city=Boardman&mobileCarrier=&sessionDepth=%7B%7BssaSessionDepth%7D%7D&userApp=userId_226755&adType=1&deviceModel=Pixel+2&ppi=2.625&supplyBundleId=com.mobi.pengqiu&deviceLanguage=zh&clickType=%7B%7BclickType%7D%7D&browserVersion=73.0&clientS2S=1&browserName=Chrome+Mobile&debug=0&deviceOs=android&deviceOEM=Google&iphoneAppOnIpadDevice=&advertiserID=11027&dynamicParameter=0-226755-0-userId-119e06c-4285477-6583113-0-4325376-8-1075-US-157-0-0-0-SVirtual+Item-0-4-0-0-40569000-0-0-0-2b13-5ca1e41c-22d2cd41--0-0--0-5.60-b0a7b8d1g5466g11e9gb591g753575427898h858473068-opp_101--1f72d6e7&creativeID=33339&cf=true&u2a=1&deviceOSVersion=9&isLimitAdTrackingEnabled=&sdkAbName=1007.1&SDKVersion=5.60&appID=226755&connectionType=2\"                },                \"callbacks\": {                    \"impressions\": [{                        \"at\": 0,                        \"url\": \"https://outcome-cdn.supersonicads.com/videoimpression/internal-media/rewarded-video/b0a7b8d1-5466-11e9-b591-753575427898_858473068/opp_101/fd71c836a?city=Boardman&dynamicParameterFlags=4194304&sessionDepth=%7B%7BssaSessionDepth%7D%7D&userApp=userId_226755&adType=1&deviceModel=Pixel+2&ppi=2.625&vtaEnabled=1&supplyBundleId=com.mobi.pengqiu&deviceLanguage=zh&adProduct=1&browserVersion=73.0&country=US&rewardsHex=1&bsMigrated=true&browserName=Chrome+Mobile&deviceOs=android&deviceOEM=Google&advertiserID=11027&deliveryType=8&creativeID=33339&suppressStatistics=false&deviceOSVersionID=40569000&encodedAppUserId=userId&decisionStrategyID=157&cf=true&bannerID=6583113&campaignID=4285477&deviceOSVersion=9&platform=4&isLimitAdTrackingEnabled=&sdkAbName=1007.1&landingID=1075&SDKVersion=5.60&appID=226755&connectionType=2\",                        \"percentage\": false,                        \"type\": \"pixel\"                    }],                    \"13\": [{                        \"at\": 13,                        \"url\": \"https://pixel-tracking.sonic-us.supersonicads.com/pixel?city=Boardman&sessionDepth=%7B%7BssaSessionDepth%7D%7D&adType=1&deviceModel=Pixel+2&ppi=2.625&supplyBundleId=com.mobi.pengqiu&deviceLanguage=zh&browserVersion=73.0&browserName=Chrome+Mobile&sign=1d0075f6&deviceOs=android&deviceOEM=Google&advertiserID=11027&dynamicParameter=0-226755-1-userId-119e06c-4285477-6583113-0-4194320-8-1075-US-157-0-0-0-SVirtual+Item-0-4-0-0-40569000-0-0-0-2b13-5ca1e41c-22d2cd41--0-0--0-5.60-b0a7b8d1g5466g11e9gb591g753575427898h858473068-opp_101--ba2fbe21&creativeID=33339&cf=true&deviceOSVersion=9&sdkAbName=1007.1&connectionType=2&advertiserId=11027&password=40df70e4\",                        \"percentage\": false,                        \"type\": \"pixel\",                        \"event\": \"notify\"                    }]                },                \"features\": {                    \"wiggle\": true,                    \"allowHybrid\": false,                    \"isVideoClickable\": true,                    \"externalBrowser\": false                },                \"opportunityID\": \"opp_101\"            }        }, {            \"cid\": \"4218031\",            \"crid\": \"6539455\",            \"creativeId\": 0,            \"lastUpdateTime\": 1553808792,            \"credits\": 1,            \"ext\": {                \"type\": \"customEndCard\",                \"class\": 0,                \"xButtonBehavior\": \"buttonHidden\",                \"templateid\": \"0\",                \"notificationsData\": {                    \"duringData\": \"\",                    \"afterData\": \"\",                    \"nextData\": \"下一步\"                },                \"counterData\": {                    \"completionCountdown\": 30,                    \"timeUntilTimer\": 0,                    \"showTimer\": true,                    \"percentage\": false                },                \"videoData\": {                    \"autoPlay\": true,                    \"videoType\": \"ssa-internal-video-player\",                    \"videoTime\": 30,                    \"videoSource\": {                        \"videoformat_mp4\": \"https://v.ssacdn.com/auto/TVUxVRFTIO_0.mp4\",                        \"html\": \"\"                    },                    \"videoPoster\": \"\"                },                \"enableLogo\": false,                \"removeNext\": false,                \"appData\": {                    \"appIcon\": \"https://supersonicads-a.akamaihd.net/banners/c_4218031_70499_5.png\",                    \"title\": \"Best Fiends - Puzzle Adventure\",                    \"description\": \"Install and open the app to earn Virtual Item!\",                    \"appImages\": [\"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/c_4218031_0_0_7761_21.png\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/brandconnect/images/fbc/background/6244099.22.11662.jpg\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/c_4218031_0_2_63500_23.png\"],                    \"adAssets\": {                        \"both\": [\"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/c_4218031_0_0_7761_21.png\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/brandconnect/images/fbc/background/6244099.22.11662.jpg\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/c_4218031_0_2_63500_23.png\"]                    },                    \"appId\": \"com.Seriously.BestFiends\"                },                \"clickTags\": {                    \"index\": 1,                    \"clickURL\": \"https://play.google.com/store/apps/details?id=com.Seriously.BestFiends&referrer=ironsource_b0a7b8d1-5466-11e9-b591-753575427898_opp_102\",                    \"title\": \"DOWNLOAD NOW\",                    \"pixelURL\": \"https://click-haproxy.supersonicads.com/endcardclick/internal-media/rewarded-video/b0a7b8d1-5466-11e9-b591-753575427898_858473068/opp_102/5fcc9532e?platformType=4&city=Boardman&mobileCarrier=&sessionDepth=%7B%7BssaSessionDepth%7D%7D&userApp=userId_226755&adType=1&deviceModel=Pixel+2&ppi=2.625&supplyBundleId=com.mobi.pengqiu&deviceLanguage=zh&clickType=%7B%7BclickType%7D%7D&browserVersion=73.0&clientS2S=1&browserName=Chrome+Mobile&debug=0&deviceOs=android&deviceOEM=Google&iphoneAppOnIpadDevice=&advertiserID=30751&dynamicParameter=0-226755-0-userId-119e06c-4218031-6539455-0-4325376-8-1075-US-157-0-0-0-SVirtual+Item-0-4-0-0-40569000-0-0-0-781f-5ca1e41c-22d2cd41--0-0--0-5.60-b0a7b8d1g5466g11e9gb591g753575427898h858473068-opp_102--0003cfff&creativeID=0&cf=true&u2a=1&deviceOSVersion=9&isLimitAdTrackingEnabled=&sdkAbName=1007.1&SDKVersion=5.60&appID=226755&connectionType=2\"                },                \"callbacks\": {                    \"impressions\": [{                        \"at\": 0,                        \"url\": \"https://outcome-cdn.supersonicads.com/videoimpression/internal-media/rewarded-video/b0a7b8d1-5466-11e9-b591-753575427898_858473068/opp_102/18394d33e?city=Boardman&dynamicParameterFlags=4194304&sessionDepth=%7B%7BssaSessionDepth%7D%7D&userApp=userId_226755&adType=1&deviceModel=Pixel+2&ppi=2.625&vtaEnabled=1&supplyBundleId=com.mobi.pengqiu&deviceLanguage=zh&adProduct=1&browserVersion=73.0&country=US&rewardsHex=1&bsMigrated=true&browserName=Chrome+Mobile&deviceOs=android&deviceOEM=Google&advertiserID=30751&deliveryType=8&creativeID=0&suppressStatistics=false&deviceOSVersionID=40569000&encodedAppUserId=userId&decisionStrategyID=157&cf=true&bannerID=6539455&campaignID=4218031&deviceOSVersion=9&platform=4&isLimitAdTrackingEnabled=&sdkAbName=1007.1&landingID=1075&SDKVersion=5.60&appID=226755&connectionType=2\",                        \"percentage\": false,                        \"type\": \"pixel\"                    }],                    \"29\": [{                        \"at\": 29,                        \"url\": \"https://pixel-tracking.sonic-us.supersonicads.com/pixel?city=Boardman&sessionDepth=%7B%7BssaSessionDepth%7D%7D&adType=1&deviceModel=Pixel+2&ppi=2.625&supplyBundleId=com.mobi.pengqiu&deviceLanguage=zh&browserVersion=73.0&browserName=Chrome+Mobile&sign=47e6fb69&deviceOs=android&deviceOEM=Google&advertiserID=30751&dynamicParameter=0-226755-1-userId-119e06c-4218031-6539455-0-4194320-8-1075-US-157-0-0-0-SVirtual+Item-0-4-0-0-40569000-0-0-0-781f-5ca1e41c-22d2cd41--0-0--0-5.60-b0a7b8d1g5466g11e9gb591g753575427898h858473068-opp_102--e6e99744&creativeID=0&cf=true&deviceOSVersion=9&sdkAbName=1007.1&connectionType=2&advertiserId=30751&password=704458da\",                        \"percentage\": false,                        \"type\": \"pixel\",                        \"event\": \"notify\"                    }]                },                \"features\": {                    \"wiggle\": true,                    \"allowHybrid\": false,                    \"isVideoClickable\": true,                    \"externalBrowser\": false                },                \"layoutData\": {                    \"html\": \"https://supersonicads-a.akamaihd.net/brandconnect/images/fbc/background/6239723.28.12638.html\"                },                \"opportunityID\": \"opp_102\"            }        }],        \"ext\": {            \"requestID\": \"b0a7b8d1-5466-11e9-b591-753575427898\",            \"randomSeed\": 858473068,            \"numOfBannersToCache\": 1,            \"numOfBannersToInitSuccess\": 1,            \"landingId\": 1075,            \"strategyId\": 157,            \"refreshInterval\": 30,            \"purgeCacheOnInit\": false,            \"allowMultiInitCalls\": false,            \"openLandingPageInExtBrowser\": false,            \"pagination\": false,            \"labels\": {                \"confirmCloseMsg\": {                    \"during\": {                        \"close\": \"尚未获得奖励！完成视频获取奖励\",                        \"yes\": \"停止\",                        \"no\": \"继续\"                    },                    \"after\": {                        \"close\": \"您不想赚更多自由Virtual Item吗？\",                        \"yes\": \"不了，谢谢\",                        \"no\": \"赚取更多\"                    }                },                \"next\": \"下一步\",                \"noInternet\": \"无互联网连接。请连接后再试。\",                \"noOffers\": \"当前没有视频。请稍后再试。\"            },            \"filterAppsInstalled\": true,            \"immersive\": true,            \"vastAvailabilityValidation\": true,            \"reportOnAdunitReady\": false,            \"deviceType\": \"phone\"        },        \"backfill\": {            \"cid\": \"4237001\",            \"crid\": \"6346107\",            \"creativeId\": 0,            \"lastUpdateTime\": 1550095722,            \"credits\": 1,            \"ext\": {                \"type\": \"customEndCard\",                \"class\": 0,                \"xButtonBehavior\": \"buttonHidden\",                \"templateid\": \"0\",                \"notificationsData\": {                    \"duringData\": \"\",                    \"afterData\": \"\",                    \"nextData\": \"下一步\"                },                \"counterData\": {                    \"completionCountdown\": 31,                    \"timeUntilTimer\": 0,                    \"showTimer\": true,                    \"percentage\": false                },                \"videoData\": {                    \"autoPlay\": true,                    \"videoType\": \"ssa-internal-video-player\",                    \"videoTime\": 31,                    \"videoSource\": {                        \"videoformat_mp4\": \"https://v.ssacdn.com/auto/QdxUxesXJB_0.mp4\",                        \"html\": \"\"                    },                    \"videoPoster\": \"\"                },                \"enableLogo\": false,                \"removeNext\": false,                \"appData\": {                    \"appIcon\": \"https://supersonicads-a.akamaihd.net/banners/c_6257779_84908_5.png\",                    \"title\": \"Burger King Israel\",                    \"description\": \"Install and open\",                    \"appImages\": [\"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/wizard_401349_1518424199_78229.png\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/wizard_401349_1518424199_23237.png\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/wizard_401349_1518424199_41452.png\"],                    \"adAssets\": {                        \"both\": [\"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/wizard_401349_1518424199_78229.png\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/wizard_401349_1518424199_23237.png\", \"https://cx.ssacdn.com/image/fetch/f_jpg,f_auto,q_80/https://supersonicads-a.akamaihd.net/banners/wizard_401349_1518424199_41452.png\"]                    },                    \"appId\": \"led.android.burgerkingisrael\"                },                \"clickTags\": {                    \"index\": 1,                    \"clickURL\": \"https://click-haproxy.supersonicads.com/endcardclick/internal-media/rewarded-video/b0a7b8d1-5466-11e9-b591-753575427898_858473068/opp_999/1345a7bfc?platformType=4&city=Boardman&mobileCarrier=&sessionDepth=%7B%7BssaSessionDepth%7D%7D&userApp=userId_226755&adType=1&deviceModel=Pixel+2&ppi=2.625&supplyBundleId=com.mobi.pengqiu&deviceLanguage=zh&clickType=%7B%7BclickType%7D%7D&browserVersion=73.0&browserName=Chrome+Mobile&debug=0&deviceOs=android&deviceOEM=Google&iphoneAppOnIpadDevice=&advertiserID=112025&dynamicParameter=0-226755-0-userId-119e06c-4237001-6346107-0-4325376-8-1075-US-157-0-0-0-SVirtual+Item-0-4-0-0-40569000-0-0-0-1b599-5ca1e41c-22d2cd41--0-0--0-5.60-b0a7b8d1g5466g11e9gb591g753575427898h858473068-opp_999--5eb602ce&creativeID=0&cf=true&u2a=1&deviceOSVersion=9&isLimitAdTrackingEnabled=&sdkAbName=1007.1&SDKVersion=5.60&appID=226755&connectionType=2\",                    \"title\": \"DOWNLOAD NOW\"                },                \"callbacks\": {                    \"impressions\": [{                        \"at\": 0,                        \"url\": \"https://outcome-cdn.supersonicads.com/videoimpression/internal-media/rewarded-video/b0a7b8d1-5466-11e9-b591-753575427898_858473068/opp_999/5846e4dc8?city=Boardman&dynamicParameterFlags=4194304&sessionDepth=%7B%7BssaSessionDepth%7D%7D&userApp=userId_226755&adType=1&deviceModel=Pixel+2&ppi=2.625&vtaEnabled=1&supplyBundleId=com.mobi.pengqiu&deviceLanguage=zh&adProduct=1024&browserVersion=73.0&country=US&rewardsHex=1&bsMigrated=true&browserName=Chrome+Mobile&deviceOs=android&deviceOEM=Google&advertiserID=112025&deliveryType=8&creativeID=0&suppressStatistics=false&deviceOSVersionID=40569000&encodedAppUserId=userId&decisionStrategyID=157&cf=true&bannerID=6346107&campaignID=4237001&deviceOSVersion=9&platform=4&isLimitAdTrackingEnabled=&sdkAbName=1007.1&landingID=1075&SDKVersion=5.60&appID=226755&connectionType=2\",                        \"percentage\": false,                        \"type\": \"pixel\"                    }],                    \"29\": [{                        \"at\": 29,                        \"url\": \"https://pixel-tracking.sonic-us.supersonicads.com/pixel?city=Boardman&sessionDepth=%7B%7BssaSessionDepth%7D%7D&adType=1&deviceModel=Pixel+2&ppi=2.625&supplyBundleId=com.mobi.pengqiu&deviceLanguage=zh&browserVersion=73.0&browserName=Chrome+Mobile&sign=cdf761cd&deviceOs=android&deviceOEM=Google&advertiserID=112025&dynamicParameter=0-226755-1-userId-119e06c-4237001-6346107-0-4194320-8-1075-US-157-0-0-0-SVirtual+Item-0-4-0-0-40569000-0-0-0-1b599-5ca1e41c-22d2cd41--0-0--0-5.60-b0a7b8d1g5466g11e9gb591g753575427898h858473068-opp_999--92698756&creativeID=0&cf=true&deviceOSVersion=9&sdkAbName=1007.1&connectionType=2&advertiserId=112025&password=c8e80d6e\",                        \"percentage\": false,                        \"type\": \"pixel\",                        \"event\": \"notify\"                    }]                },                \"features\": {                    \"wiggle\": true,                    \"allowHybrid\": false,                    \"isVideoClickable\": false,                    \"externalBrowser\": false                },                \"forceOrientation\": \"Landscape\",                \"layoutData\": {                    \"html\": \"https://supersonicads-a.akamaihd.net/brandconnect/images/fbc/background/6346107.28.57329.html\"                },                \"opportunityID\": \"opp_999\"            }        }    }})";
		if (str.contains("jQuery") && str.contains("(")) {
			str = str.substring(str.indexOf("({") + 1);
		}
		System.out.println(str);
		if (str.endsWith(")")) {
			str = str.substring(0, str.length() - 1);
		}
		JSONObject json = JSON.parseObject(str);
		System.out.println(json.toJSONString());

	}
}
